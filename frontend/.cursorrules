# Bot Factory - Cursor Rules

## üìã –û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞

Bot Factory ‚Äî SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI-–±–æ—Ç–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram –∏ Google Gemini. 
–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: frontend (React/TypeScript) + backend (Django - –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ).

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

### Frontend
- **Framework:** React 19.2.0
- **Language:** TypeScript 5.8.2 (strict mode, ES2022)
- **Build Tool:** Vite 6.2.0
- **State Management:** Zustand 5.0.8 —Å persist middleware
- **Styling:** Tailwind CSS (—É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥, Apple HIG inspired)
- **Animations:** Framer Motion 11.0.0
- **Icons:** Lucide React 0.554.0
- **Charts:** Recharts 3.4.1
- **AI SDK:** @google/genai 1.30.0
- **Utils:** clsx 2.1.1, tailwind-merge 3.0.0

### Backend (Planned)
- **Framework:** Django (folder exists but empty)
- **Expected:** Django REST Framework, PostgreSQL

---

## üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
frontend/
‚îú‚îÄ‚îÄ components/          # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/             # UI primitives (Button, Card, Input, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ Layout.tsx      # –ì–ª–∞–≤–Ω—ã–π layout —Å sidebar + header
‚îÇ   ‚îú‚îÄ‚îÄ BotSelector.tsx # Dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ Onboarding.tsx  # –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –º–æ–¥–∞–ª
‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Dashboard, Bots, Settings, etc.)
‚îú‚îÄ‚îÄ store/              # Zustand stores
‚îÇ   ‚îú‚îÄ‚îÄ useAppStore.ts      # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–æ—Ç—ã, API keys)
‚îÇ   ‚îú‚îÄ‚îÄ useAuthStore.ts     # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ useChatStore.ts     # –ß–∞—Ç-—Å–æ–æ–±—â–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ useThemeStore.ts    # –¢–µ–º–∞ –∏ UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ (sidebar, theme)
‚îú‚îÄ‚îÄ services/           # –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.ts              # API –∫–ª–∏–µ–Ω—Ç (mock/real toggle)
‚îÇ   ‚îú‚îÄ‚îÄ geminiService.ts    # Google Gemini AI integration
‚îÇ   ‚îî‚îÄ‚îÄ mockData.ts         # –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ types.ts            # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ utils.ts            # –£—Ç–∏–ª–∏—Ç—ã (cn, formatNumber, formatDate)
‚îú‚îÄ‚îÄ App.tsx             # Root component —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º
‚îî‚îÄ‚îÄ index.tsx           # Entry point
```

---

## üé® Design System & Styling

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –î–∏–∑–∞–π–Ω–∞
**–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ:** Apple Human Interface Guidelines (HIG)
- **Glassmorphism:** `backdrop-blur-xl`, –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ñ–æ–Ω—ã (`bg-white/80`, `bg-gray-900/40`)
- **Subtle Borders:** Alpha-based borders –≤–º–µ—Å—Ç–æ solid colors (`border-black/5`, `border-white/5`)
- **Elevation:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ–Ω–∏ (`shadow-sm`, `shadow-xl` —Ç–æ–ª—å–∫–æ –¥–ª—è –º–æ–¥–∞–ª–æ–≤)
- **Transitions:** –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ `duration-200`, `ease-out`
- **Dark Mode:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ Tailwind (`dark:` prefix)

### –¶–≤–µ—Ç–æ–≤–∞—è –ü–∞–ª–∏—Ç—Ä–∞
```css
/* Primary Color (Indigo) */
--primary: #6366f1
--primary-dark: #4f46e5
--primary-light: #818cf8

/* Neutral */
Light Mode: Gray 50-900 (bg-gray-50/50, text-gray-900)
Dark Mode: Gray 900-50 + White alpha (bg-gray-950, bg-white/5)

/* Semantic Colors */
Success: Emerald (emerald-500, emerald-50/50)
Warning: Amber (amber-500, amber-50/50)
Error/Danger: Red (red-500, red-50/50)
Info: Blue (blue-500, blue-50/50)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

#### Button Variants
- `primary`: Solid background, primary color
- `secondary`: Light background, subtle border (`border-black/10`)
- `ghost`: Transparent, hover effect
- `danger`: Red background
- `icon`: Circular, padding-less (for icons only)

#### Card Pattern
Compound components: `Card`, `CardHeader`, `CardTitle`, `CardDescription`, `CardContent`, `CardFooter`
```tsx
<Card>
  <CardHeader>
    <CardTitle>Title</CardTitle>
    <CardDescription>Description</CardDescription>
  </CardHeader>
  <CardContent>Content</CardContent>
  <CardFooter>Footer</CardFooter>
</Card>
```

#### Spacing & Sizing
- **Padding:** `p-4` (1rem), `p-6` (1.5rem), `px-8` –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–µ–∫—Ü–∏–π
- **Gaps:** `gap-2` (0.5rem), `gap-4` (1rem), `gap-6` (1.5rem)
- **Button Heights:** sm: 7 (h-7), md: 9 (h-9), lg: 11 (h-11)
- **Rounded:** `rounded-lg` (8px), `rounded-xl` (12px), `rounded-full` –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤

---

## üß© –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ö–æ–¥–∞

### TypeScript Conventions

#### 1. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å React.FC
```tsx
interface MyComponentProps {
  title: string;
  onAction?: () => void;
  isActive?: boolean;
}

export const MyComponent: React.FC<MyComponentProps> = ({ title, onAction, isActive = false }) => {
  // ...
};
```

#### 2. –ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, enum –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
```tsx
// Enum –¥–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
export enum BotStatus {
  ACTIVE = 'active',
  PAUSED = 'paused',
  ERROR = 'error',
  DRAFT = 'draft'
}

// Interface –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
export interface Bot {
  id: string;
  name: string;
  status: BotStatus;
  // ...
}
```

#### 3. Type –¥–ª—è union types
```tsx
export type View = 'login' | 'dashboard' | 'bots' | 'bot-chat' | 'settings';
```

### React Patterns

#### 1. Props Spreading
–í—Å–µ–≥–¥–∞ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –∏ spread –æ—Å—Ç–∞–ª—å–Ω—ã–µ props:
```tsx
export const Button: React.FC<ButtonProps> = ({ 
  children, 
  className, 
  variant = 'primary',
  ...props 
}) => {
  return <button className={cn(baseStyles, className)} {...props}>{children}</button>;
};
```

#### 2. Conditional Rendering
–ò—Å–ø–æ–ª—å–∑—É–π —É—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:
```tsx
{isLoading && <Loader />}
{error ? <ErrorMessage /> : <Content />}
{items.length === 0 ? <EmptyState /> : <List items={items} />}
```

#### 3. Event Handlers
–ò–º–µ–Ω—É–π —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `handle`:
```tsx
const handleSubmit = (e: React.FormEvent) => {
  e.preventDefault();
  // logic
};

const handleBotSelect = (botId: string) => {
  setSelectedBotId(botId);
};
```

### State Management (Zustand)

#### Store Pattern
```tsx
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface MyState {
  // State
  items: Item[];
  selectedId: string | null;
  
  // Actions
  setItems: (items: Item[]) => void;
  setSelectedId: (id: string | null) => void;
  getSelected: () => Item | undefined;
}

export const useMyStore = create<MyState>()(
  persist(
    (set, get) => ({
      items: [],
      selectedId: null,
      
      setItems: (items) => set({ items }),
      setSelectedId: (id) => set({ selectedId: id }),
      getSelected: () => {
        const { items, selectedId } = get();
        return items.find(i => i.id === selectedId);
      }
    }),
    {
      name: 'my-storage',
      partialize: (state) => ({ 
        // –¢–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ç—å
        selectedId: state.selectedId 
      })
    }
  )
);
```

**–ü—Ä–∞–≤–∏–ª–∞ Zustand:**
- –û–¥–∏–Ω store –Ω–∞ –¥–æ–º–µ–Ω (auth, app, chat, theme)
- Actions –≤—Å–µ–≥–¥–∞ –≤ store, –Ω–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π `persist` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å
- `partialize` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage

### API & Services

#### API Pattern
–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π —Å toggle mock/real:
```tsx
// services/api.ts
const USE_MOCK = true;

export const api = {
  bots: {
    list: () => USE_MOCK ? mockData.getBots() : client.get('/api/bots'),
    get: (id: string) => USE_MOCK ? mockData.getBotById(id) : client.get(`/api/bots/${id}`),
  },
  // ...
};
```

#### Data Fetching Pattern —Å Retry Logic
```tsx
const [loading, setLoading] = useState(true);
const [data, setData] = useState<DataType[]>([]);
const [error, setError] = useState<string | null>(null);

// Retry utility
const fetchWithRetry = async <T,>(
  fn: () => Promise<T>,
  retries: number = 3,
  delay: number = 1000
): Promise<T> => {
  for (let i = 0; i < retries; i++) {
    try {
      return await fn();
    } catch (error) {
      if (i === retries - 1) throw error;
      await new Promise(r => setTimeout(r, delay * (i + 1)));
    }
  }
  throw new Error('Max retries exceeded');
};

useEffect(() => {
  const loadData = async () => {
    setLoading(true);
    setError(null);
    try {
      const result = await fetchWithRetry(() => api.getData());
      setData(result);
    } catch (error) {
      console.error("Load Error", error);
      setError(error instanceof Error ? error.message : 'Unknown error');
    } finally {
      setLoading(false);
    }
  };
  loadData();
}, [dependency]);
```

#### Offline Detection
```tsx
// hooks/useOnlineStatus.ts
export const useOnlineStatus = () => {
  const [isOnline, setIsOnline] = useState(navigator.onLine);

  useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);

    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  return isOnline;
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const isOnline = useOnlineStatus();
if (!isOnline) {
  return <OfflineBanner />;
}
```

**Best Practices:**
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π try-catch-finally
- `Promise.all` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Loading states –¥–ª—è UX
- Retry logic –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- Offline detection –¥–ª—è –ª—É—á—à–µ–≥–æ UX

### –£—Ç–∏–ª–∏—Ç—ã

#### cn() –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
```tsx
import { cn } from '../utils';

<div className={cn(
  "base-classes",
  isActive && "active-classes",
  variant === 'primary' && "primary-classes",
  className
)} />
```

#### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```tsx
// utils.ts
export const formatNumber = (num: number): string => {
  if (num >= 1000) return (num / 1000).toFixed(1) + 'k';
  return num.toString();
};

export const formatDate = (dateString: string): string => {
  return new Date(dateString).toLocaleDateString('ru-RU', {
    day: 'numeric',
    month: 'short',
    year: 'numeric'
  });
};
```

---

## üé¨ Animations (Framer Motion)

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ê–Ω–∏–º–∞—Ü–∏–π

#### 1. Page Transitions
```tsx
<AnimatePresence mode="wait">
  <motion.div
    key={currentView}
    initial={{ opacity: 0, y: 10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -10 }}
    transition={{ duration: 0.2, ease: "easeOut" }}
  >
    {children}
  </motion.div>
</AnimatePresence>
```

#### 2. Button Press Effect
```tsx
<motion.button
  whileTap={{ scale: disabled ? 1 : 0.97 }}
  {...props}
/>
```

#### 3. Modal/Popover Entry
```tsx
<motion.div
  initial={{ opacity: 0, y: 10, scale: 0.95 }}
  animate={{ opacity: 1, y: 0, scale: 1 }}
  exit={{ opacity: 0, y: 10, scale: 0.95 }}
/>
```

#### 4. Layout Animations
```tsx
<motion.div layoutId="unique-id" />
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ–≥–¥–∞ wrap —Å `<AnimatePresence>` –¥–ª—è exit –∞–Ω–∏–º–∞—Ü–∏–π
- `duration: 0.2` –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö UI –∞–Ω–∏–º–∞—Ü–∏–π
- `ease: "easeOut"` –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- `whileTap={{ scale: 0.97 }}` –¥–ª—è buttons (–µ—Å–ª–∏ –Ω–µ disabled)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### 1. Environment Variables
```tsx
// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Vite
const apiKey = import.meta.env.VITE_API_KEY || '';

// –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å –∫–ª—é—á–∏ –≤ –∫–æ–¥
// –ò—Å–ø–æ–ª—å–∑—É–π .env —Ñ–∞–π–ª—ã (–¥–æ–±–∞–≤—å –≤ .gitignore)
```

#### 2. Input Sanitization
```tsx
// –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
const sanitizeInput = (input: string): string => {
  return input.trim().replace(/[<>]/g, '');
};
```

#### 3. XSS Protection
React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç, –Ω–æ:
```tsx
// –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π dangerouslySetInnerHTML –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏
// –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ç–∏–ø–∞ DOMPurify
```

### Error Boundaries

**–ì–ª–æ–±–∞–ª—å–Ω—ã–π Error Boundary:**
```tsx
// components/ErrorBoundary.tsx
import { Component, ErrorInfo, ReactNode } from 'react';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export class ErrorBoundary extends Component<Props, State> {
  state: State = { hasError: false, error: null };

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught by boundary:', error, errorInfo);
    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Sentry –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  }

  render() {
    if (this.state.hasError) {
      return this.props.fallback || <ErrorFallback error={this.state.error} />;
    }
    return this.props.children;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<ErrorBoundary fallback={<ErrorPage />}>
  <App />
</ErrorBoundary>
```

**ErrorFallback –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```tsx
// components/ErrorFallback.tsx
export const ErrorFallback: React.FC<{ error: Error | null }> = ({ error }) => (
  <div className="flex flex-col items-center justify-center min-h-screen p-4">
    <h1 className="text-2xl font-bold text-red-600 mb-4">–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫</h1>
    <p className="text-gray-600 mb-4">{error?.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}</p>
    <button 
      onClick={() => window.location.reload()}
      className="px-4 py-2 bg-indigo-600 text-white rounded-lg"
    >
      –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
    </button>
  </div>
);
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### 1. –ò–∑–±–µ–≥–∞–π N+1 –ó–∞–ø—Ä–æ—Å–æ–≤
```tsx
// BAD
bots.forEach(async (bot) => {
  const details = await api.bots.get(bot.id); // N –∑–∞–ø—Ä–æ—Å–æ–≤
});

// GOOD
const botIds = bots.map(b => b.id);
const details = await api.bots.getBatch(botIds); // 1 –∑–∞–ø—Ä–æ—Å
```

#### 2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ó–∞–ø—Ä–æ—Å—ã
```tsx
// GOOD
const [stats, chart, activity] = await Promise.all([
  api.stats.dashboard(period),
  api.stats.chart(period),
  api.stats.activity()
]);
```

#### 3. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞)
```tsx
const expensiveCalculation = useMemo(() => {
  return items.reduce((acc, item) => acc + item.value, 0);
}, [items]);
```

#### 4. Lazy Loading
```tsx
// –î–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const HeavyComponent = React.lazy(() => import('./HeavyComponent'));

<Suspense fallback={<Loader />}>
  <HeavyComponent />
</Suspense>
```

---

## üß™ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Development Workflow

#### 1. Vite Dev Server
```bash
cd frontend
npm run dev
# Server: http://localhost:3000
```

#### 2. Mock Data Toggle
```tsx
// services/api.ts
const USE_MOCK = true; // false –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ API
```

#### 3. Hot Module Replacement
Vite –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HMR –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.

### Code Quality

#### 1. TypeScript Strict Mode
```json
// tsconfig.json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true
  }
}
```

#### 2. –ò–º–ø–æ—Ä—Ç—ã
```tsx
// –ò—Å–ø–æ–ª—å–∑—É–π –∞–ª–∏–∞—Å @/ –¥–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤
import { Button } from '@/components/ui/Button';
import { useAppStore } from '@/store/useAppStore';

// –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
// BAD: import { Button } from '../../../components/ui/Button';
```

#### 3. Naming Conventions
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** PascalCase (`Button`, `BotSelector`)
- **Files:** –°–æ–≤–ø–∞–¥–∞—é—Ç —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º (`Button.tsx`, `useAppStore.ts`)
- **Hooks:** camelCase —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `use` (`useAppStore`, `useThemeStore`)
- **Constants:** UPPER_SNAKE_CASE (`USE_MOCK`, `API_BASE_URL`)
- **Functions:** camelCase (`formatNumber`, `handleSubmit`)

---

## üöÄ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –§–∏—á–∏ –ü—Ä–æ–µ–∫—Ç–∞

### 1. Custom Routing (No React Router)
```tsx
// App.tsx
const [currentView, setCurrentView] = useState<View>('dashboard');

const renderView = () => {
  switch (currentView) {
    case 'dashboard': return <Dashboard />;
    case 'bots': return <Bots />;
    // ...
  }
};

// Navigation
<Layout currentView={currentView} onNavigate={setCurrentView}>
  {renderView()}
</Layout>
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–ª—è SPA —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º views.

### 2. Bot Context System
```tsx
// selectedBotId –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
const { selectedBotId, setSelectedBotId } = useAppStore();

// –°—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞
const documents = await api.knowledge.documents(selectedBotId!);

// –í–ê–ñ–ù–û: –°–±—Ä–∞—Å—ã–≤–∞–π selectedBotId –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
if (['dashboard', 'bots', 'settings'].includes(view)) {
  setSelectedBotId(null);
}
```

### 3. Google Gemini Integration
```tsx
// services/geminiService.ts
export const generateBotResponse = async (
  modelName: string,
  prompt: string,
  systemInstruction: string,
  history: { role: 'user' | 'model'; content: string }[],
  thinkingBudget?: number // –î–ª—è Gemini 2.5/3.0 thinking models
) => {
  const ai = createGeminiClient();
  const config: any = { 
    systemInstruction,
    tools: [{ googleSearch: {} }] // Grounding —Å Google Search
  };

  // –ö–†–ò–¢–ò–ß–ù–û: maxOutputTokens –ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ thinkingConfig
  if (thinkingBudget) {
    config.thinkingConfig = { thinkingBudget };
    config.maxOutputTokens = undefined;
  }
  
  const chat = ai.chats.create({ model: modelName, config, history });
  const result = await chat.sendMessage({ message: prompt });
  
  return {
    text: result.text,
    groundingChunks: result.candidates?.[0]?.groundingMetadata?.groundingChunks
  };
};
```

### 4. Theme System
```tsx
// store/useThemeStore.ts
const { theme, toggleTheme, setTheme, initializeTheme } = useThemeStore();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–º—É –≤ Layout
useEffect(() => {
  initializeTheme(); // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ localStorage –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
}, []);

// Toggle
<button onClick={toggleTheme}>
  {theme === 'dark' ? <Sun /> : <Moon />}
</button>
```

**Dark Mode:** Tailwind class-based (`dark:` prefix), —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `<html class="dark">`

### 5. Onboarding Flow
```tsx
// App.tsx
const [showOnboarding, setShowOnboarding] = useState(false);

useEffect(() => {
  if (isAuthenticated) {
    setShowOnboarding(true); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ª–æ–≥–∏–Ω–µ
  }
}, [isAuthenticated]);

<Onboarding onComplete={() => setShowOnboarding(false)} />
```

---

## üìù –ü—Ä–∞–≤–∏–ª–∞ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ö–æ–¥–∞

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞:**
```tsx
import React from 'react';
import { Icon1, Icon2 } from 'lucide-react'; // –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –∏–∫–æ–Ω–∫–∏
import { cn } from '@/utils'; // –ï—Å–ª–∏ –Ω—É–∂–Ω—ã —É—Å–ª–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
import { ComponentName } from '@/components/...'; // –ò–º–ø–æ—Ä—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

interface MyComponentProps {
  // Props
}

export const MyComponent: React.FC<MyComponentProps> = ({ prop1, prop2, ...props }) => {
  // State
  const [state, setState] = useState<Type>(initialValue);
  
  // Store
  const { storeValue } = useMyStore();
  
  // Effects
  useEffect(() => {
    // ...
  }, [dependency]);
  
  // Handlers
  const handleAction = () => {
    // ...
  };
  
  return (
    <div className={cn("base-styles", props.className)}>
      {/* JSX */}
    </div>
  );
};
```

2. **UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤ ui/):**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ variants —á–µ—Ä–µ–∑ props
- Props spreading
- –ò—Å–ø–æ–ª—å–∑—É–π `cn()` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π —Ç–∏–ø—ã props

3. **Page –ö–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤ pages/):**
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å stores
- –ú–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å API –∑–∞–ø—Ä–æ—Å—ã
- Loading states –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- Error handling —á–µ—Ä–µ–∑ try-catch

### –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ:

1. **–£–ª—É—á—à–∞–π —á–∏—Ç–∞–µ–º–æ—Å—Ç—å:**
- –†–∞–∑–±–∏–≤–∞–π –¥–ª–∏–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –í—ã–Ω–æ—Å–∏ constants –Ω–∞–≤–µ—Ä—Ö —Ñ–∞–π–ª–∞
- –ì—Ä—É–ø–ø–∏—Ä—É–π –ø–æ—Ö–æ–∂–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑—É–π `useMemo` –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- `useCallback` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –≤ deps
- –ò–∑–±–µ–≥–∞–π inline –æ–±—ä–µ–∫—Ç–æ–≤/–º–∞—Å—Å–∏–≤–æ–≤ –≤ JSX

3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è:**
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö props
- –ò–∑–±–µ–≥–∞–π `any` (–∏—Å–ø–æ–ª—å–∑—É–π `unknown` –µ—Å–ª–∏ —Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω)
- –¢–∏–ø–∏–∑–∏—Ä—É–π return values —Ñ—É–Ω–∫—Ü–∏–π

---

## üêõ Debugging & Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

#### 1. "Cannot read property of undefined"
```tsx
// BAD
const bot = bots.find(b => b.id === selectedBotId);
console.log(bot.name); // –û—à–∏–±–∫–∞ –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω

// GOOD
const bot = bots.find(b => b.id === selectedBotId);
if (!bot) return <EmptyState />;
console.log(bot.name);

// OR
console.log(bot?.name); // Optional chaining
```

#### 2. "Rendered more hooks than during the previous render"
–ü—Ä–∏—á–∏–Ω–∞: –£—Å–ª–æ–≤–Ω—ã–µ —Ö—É–∫–∏.
```tsx
// BAD
if (condition) {
  const [state, setState] = useState(0);
}

// GOOD
const [state, setState] = useState(0);
if (condition) {
  // use state
}
```

#### 3. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª useEffect
```tsx
// BAD - –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä
useEffect(() => {
  api.call({ param: value });
}, [{ param: value }]);

// GOOD
useEffect(() => {
  api.call({ param: value });
}, [value]);
```

#### 4. Dark Mode –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```tsx
// –ü—Ä–æ–≤–µ—Ä—å:
// 1. initializeTheme() –≤—ã–∑–≤–∞–Ω –≤ Layout
// 2. HTML –∏–º–µ–µ—Ç class="dark"
// 3. Tailwind config –≤–∫–ª—é—á–∞–µ—Ç darkMode: 'class'

// Debugging
console.log(document.documentElement.classList); // –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 'dark'
console.log(localStorage.getItem('theme')); // –î–æ–ª–∂–µ–Ω –±—ã—Ç—å 'dark' –∏–ª–∏ 'light'
```

---

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

**–¢–µ–∫—É—â–∞—è –ª–æ–∫–∞–ª—å:** –†—É—Å—Å–∫–∏–π (`ru-RU`)

```tsx
// –î–∞—Ç—ã
formatDate(dateString); // –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 'ru-RU'

// –ß–∏—Å–ª–∞ (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
new Intl.NumberFormat('ru-RU').format(number);

// –í–∞–ª—é—Ç–∞ (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' }).format(amount);
```

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –∫–æ–¥ ‚Äî –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º.

---

## üîó Backend Integration (–ë—É–¥—É—â–µ–µ)

### –ö–æ–≥–¥–∞ Django backend –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤:

1. **API Base URL:**
```tsx
// services/api.ts
const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000/api';
```

2. **Authentication:**
- JWT tokens –≤ localStorage —á–µ—Ä–µ–∑ Zustand persist
- Interceptors –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Bearer token
- Refresh token logic

3. **CORS:**
```python
# Django settings.py
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3000", # Vite dev server
]
```

4. **WebSocket (–¥–ª—è real-time):**
- Django Channels –¥–ª—è Telegram bot updates
- Frontend: native WebSocket –∏–ª–∏ socket.io-client

---

## üì¶ Deployment

### Frontend Build

```bash
cd frontend
npm run build
# Output: dist/
```

**Vite Build Output:**
- Optimized bundles
- Tree-shaking
- Code splitting
- Asset hashing

### Environment Variables

```bash
# .env (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
VITE_API_URL=https://api.bot-factory.com
VITE_GEMINI_API_KEY=your_key_here

# –î–æ—Å—Ç—É–ø –≤ –∫–æ–¥–µ
import.meta.env.VITE_API_URL
```

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `VITE_` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ –∫–ª–∏–µ–Ω—Ç–µ.

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ü—Ä–∞–≤–∏–ª–∞

### 1. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

```tsx
// GOOD: –û–±—ä—è—Å–Ω—è–π "–ø–æ—á–µ–º—É", –Ω–µ "—á—Ç–æ"
// Fix: Reset bot context to prevent crash on Knowledge page
if (selectedBotId === 'new') {
  setSelectedBotId(null);
}

// BAD: –û—á–µ–≤–∏–¥–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
// Set selected bot id to null
setSelectedBotId(null);
```

### 2. Console.log

```tsx
// Development: OK
console.log("Debug:", value);

// Production: –ò—Å–ø–æ–ª—å–∑—É–π console.error –¥–ª—è –æ—à–∏–±–æ–∫
console.error("API Error:", error);

// Warning: console.warn –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
console.warn("Deprecated function called");
```

### 3. TODO/FIXME

```tsx
// TODO: Add pagination when backend is ready
// FIXME: Memory leak in useEffect cleanup
// HACK: Temporary workaround for Safari bug
// NOTE: This is intentional for backwards compatibility
```

### 4. File Size

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** < 300 —Å—Ç—Ä–æ–∫ (–µ—Å–ª–∏ –±–æ–ª—å—à–µ ‚Äî —Ä–∞–∑–±–µ–π –Ω–∞ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- **Pages:** < 400 —Å—Ç—Ä–æ–∫
- **Utils:** < 100 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª

### 5. Exports

```tsx
// Named exports –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–µ default)
export const Button: React.FC<ButtonProps> = () => { ... };

// Default export —Ç–æ–ª—å–∫–æ –¥–ª—è pages –∏ App.tsx
export default App;
```

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–∏ –†–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. **Type Safety** ‚Äî –≤—Å–µ–≥–¥–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
2. **User Experience** ‚Äî loading states, error handling, animations
3. **Code Readability** ‚Äî —á–∏—Å—Ç—ã–π, –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥ > clever code
4. **Performance** ‚Äî –∏–∑–±–µ–≥–∞–π –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –Ω–æ –ø–æ–º–Ω–∏ –æ best practices
5. **Consistency** ‚Äî —Å–ª–µ–¥—É–π –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ

---

## üö´ –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å

1. **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π:**
   - `any` —Ç–∏–ø (–∏—Å–ø–æ–ª—å–∑—É–π `unknown` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø)
   - `var` (—Ç–æ–ª—å–∫–æ `const`/`let`)
   - Inline styles (–∏—Å–ø–æ–ª—å–∑—É–π Tailwind)
   - `React.createElement` (–∏—Å–ø–æ–ª—å–∑—É–π JSX)
   - Class components (—Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)

2. **–ù–ï –∫–æ–º–º–∏—Ç:**
   - `.env` —Ñ–∞–π–ª—ã
   - `node_modules/`
   - `dist/` build output
   - API keys –∏–ª–∏ secrets

3. **–ù–ï —Å–æ–∑–¥–∞–≤–∞–π:**
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã (–∏—Å–ø–æ–ª—å–∑—É–π Tailwind utilities)
   - –û–≥—Ä–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (>300 —Å—Ç—Ä–æ–∫)
   - –î—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥ (DRY principle)

---

## üéì Learning Resources

- **React 19:** https://react.dev/
- **TypeScript:** https://www.typescriptlang.org/docs/
- **Zustand:** https://github.com/pmndrs/zustand
- **Framer Motion:** https://www.framer.com/motion/
- **Tailwind CSS:** https://tailwindcss.com/docs
- **Vite:** https://vitejs.dev/guide/
- **Google Gemini API:** https://ai.google.dev/docs

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –í–æ–ø—Ä–æ—Å—ã

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏–ª–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö ‚Äî —Å–ª–µ–¥—É–π –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ. Consistency > Innovation.

---

## üîÑ Offline-First –ü–∞—Ç—Ç–µ—Ä–Ω—ã

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**Zustand —Å persist –¥–ª—è offline:**
```tsx
export const useBotsStore = create<BotsState>()(
  persist(
    (set, get) => ({
      bots: [],
      lastFetched: null,
      
      fetchBots: async () => {
        const cached = get().bots;
        const lastFetched = get().lastFetched;
        
        // –ò—Å–ø–æ–ª—å–∑—É–π –∫—ç—à –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–≤–µ–∂–∏–µ (< 5 –º–∏–Ω—É—Ç)
        if (cached.length > 0 && lastFetched && Date.now() - lastFetched < 300000) {
          return cached;
        }
        
        try {
          const fresh = await api.bots.list();
          set({ bots: fresh, lastFetched: Date.now() });
          return fresh;
        } catch (error) {
          // Offline: –≤–µ—Ä–Ω—É—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          if (cached.length > 0) return cached;
          throw error;
        }
      }
    }),
    { name: 'bots-storage' }
  )
);
```

### Optimistic Updates

```tsx
const handleDelete = async (botId: string) => {
  // Optimistic update
  const previousBots = bots;
  setBots(bots.filter(b => b.id !== botId));
  
  try {
    await api.bots.delete(botId);
  } catch (error) {
    // Rollback on error
    setBots(previousBots);
    toast.error('–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –±–æ—Ç–∞');
  }
};
```

---

**–í–µ—Ä—Å–∏—è:** 1.1
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-25
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:** –î–æ–±–∞–≤–ª–µ–Ω—ã Error Boundaries, Retry Logic, Offline Detection

